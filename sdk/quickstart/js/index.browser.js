!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("core-js/modules/es.reflect.construct.js"),require("core-js/modules/es.object.to-string.js"),require("core-js/modules/es.promise.js"),require("node-fetch"),require("core-js/modules/es.regexp.exec.js"),require("core-js/modules/es.string.replace.js"),require("core-js/modules/es.regexp.constructor.js"),require("core-js/modules/es.regexp.to-string.js"),require("core-js/modules/es.object.keys.js"),require("core-js/modules/es.symbol.js"),require("core-js/modules/es.array.filter.js"),require("core-js/modules/es.object.get-own-property-descriptor.js"),require("core-js/modules/web.dom-collections.for-each.js"),require("core-js/modules/es.object.get-own-property-descriptors.js"),require("core-js/modules/es.array.concat.js"),require("core-js/modules/es.array.iterator.js"),require("core-js/modules/es.map.js"),require("core-js/modules/es.string.iterator.js"),require("core-js/modules/web.dom-collections.iterator.js"),require("core-js/modules/es.array.includes.js"),require("core-js/modules/es.string.includes.js"),require("core-js/modules/es.object.values.js"),require("core-js/modules/es.number.is-integer.js"),require("core-js/modules/es.number.constructor.js"),require("core-js/modules/es.math.trunc.js"),require("core-js/modules/es.array.from.js"),require("core-js/modules/es.string.match.js"),require("core-js/modules/es.array.slice.js"),require("core-js/modules/es.function.name.js"),require("core-js/modules/es.symbol.description.js"),require("core-js/modules/es.symbol.iterator.js"),require("core-js/modules/es.string.starts-with.js"),require("core-js/modules/es.string.ends-with.js"),require("core-js/modules/es.promise.finally.js"));else if("function"==typeof define&&define.amd)define(["core-js/modules/es.reflect.construct.js","core-js/modules/es.object.to-string.js","core-js/modules/es.promise.js","node-fetch","core-js/modules/es.regexp.exec.js","core-js/modules/es.string.replace.js","core-js/modules/es.regexp.constructor.js","core-js/modules/es.regexp.to-string.js","core-js/modules/es.object.keys.js","core-js/modules/es.symbol.js","core-js/modules/es.array.filter.js","core-js/modules/es.object.get-own-property-descriptor.js","core-js/modules/web.dom-collections.for-each.js","core-js/modules/es.object.get-own-property-descriptors.js","core-js/modules/es.array.concat.js","core-js/modules/es.array.iterator.js","core-js/modules/es.map.js","core-js/modules/es.string.iterator.js","core-js/modules/web.dom-collections.iterator.js","core-js/modules/es.array.includes.js","core-js/modules/es.string.includes.js","core-js/modules/es.object.values.js","core-js/modules/es.number.is-integer.js","core-js/modules/es.number.constructor.js","core-js/modules/es.math.trunc.js","core-js/modules/es.array.from.js","core-js/modules/es.string.match.js","core-js/modules/es.array.slice.js","core-js/modules/es.function.name.js","core-js/modules/es.symbol.description.js","core-js/modules/es.symbol.iterator.js","core-js/modules/es.string.starts-with.js","core-js/modules/es.string.ends-with.js","core-js/modules/es.promise.finally.js"],e);else{var n="object"==typeof exports?e(require("core-js/modules/es.reflect.construct.js"),require("core-js/modules/es.object.to-string.js"),require("core-js/modules/es.promise.js"),require("node-fetch"),require("core-js/modules/es.regexp.exec.js"),require("core-js/modules/es.string.replace.js"),require("core-js/modules/es.regexp.constructor.js"),require("core-js/modules/es.regexp.to-string.js"),require("core-js/modules/es.object.keys.js"),require("core-js/modules/es.symbol.js"),require("core-js/modules/es.array.filter.js"),require("core-js/modules/es.object.get-own-property-descriptor.js"),require("core-js/modules/web.dom-collections.for-each.js"),require("core-js/modules/es.object.get-own-property-descriptors.js"),require("core-js/modules/es.array.concat.js"),require("core-js/modules/es.array.iterator.js"),require("core-js/modules/es.map.js"),require("core-js/modules/es.string.iterator.js"),require("core-js/modules/web.dom-collections.iterator.js"),require("core-js/modules/es.array.includes.js"),require("core-js/modules/es.string.includes.js"),require("core-js/modules/es.object.values.js"),require("core-js/modules/es.number.is-integer.js"),require("core-js/modules/es.number.constructor.js"),require("core-js/modules/es.math.trunc.js"),require("core-js/modules/es.array.from.js"),require("core-js/modules/es.string.match.js"),require("core-js/modules/es.array.slice.js"),require("core-js/modules/es.function.name.js"),require("core-js/modules/es.symbol.description.js"),require("core-js/modules/es.symbol.iterator.js"),require("core-js/modules/es.string.starts-with.js"),require("core-js/modules/es.string.ends-with.js"),require("core-js/modules/es.promise.finally.js")):e(t["core-js/modules/es.reflect.construct.js"],t["core-js/modules/es.object.to-string.js"],t["core-js/modules/es.promise.js"],t["node-fetch"],t["core-js/modules/es.regexp.exec.js"],t["core-js/modules/es.string.replace.js"],t["core-js/modules/es.regexp.constructor.js"],t["core-js/modules/es.regexp.to-string.js"],t["core-js/modules/es.object.keys.js"],t["core-js/modules/es.symbol.js"],t["core-js/modules/es.array.filter.js"],t["core-js/modules/es.object.get-own-property-descriptor.js"],t["core-js/modules/web.dom-collections.for-each.js"],t["core-js/modules/es.object.get-own-property-descriptors.js"],t["core-js/modules/es.array.concat.js"],t["core-js/modules/es.array.iterator.js"],t["core-js/modules/es.map.js"],t["core-js/modules/es.string.iterator.js"],t["core-js/modules/web.dom-collections.iterator.js"],t["core-js/modules/es.array.includes.js"],t["core-js/modules/es.string.includes.js"],t["core-js/modules/es.object.values.js"],t["core-js/modules/es.number.is-integer.js"],t["core-js/modules/es.number.constructor.js"],t["core-js/modules/es.math.trunc.js"],t["core-js/modules/es.array.from.js"],t["core-js/modules/es.string.match.js"],t["core-js/modules/es.array.slice.js"],t["core-js/modules/es.function.name.js"],t["core-js/modules/es.symbol.description.js"],t["core-js/modules/es.symbol.iterator.js"],t["core-js/modules/es.string.starts-with.js"],t["core-js/modules/es.string.ends-with.js"],t["core-js/modules/es.promise.finally.js"]);for(var i in n)("object"==typeof exports?exports:t)[i]=n[i]}}(self,(function(t,e,n,i,r,o,s,c,a,u,f,l,h,d,p,g,y,v,m,k,j,b,_,I,C,x,M,E,w,O,A,N,R,S){return(()=>{var L={757:(t,e,n)=>{t.exports=n(666)},187:t=>{"use strict";var e,n="object"==typeof Reflect?Reflect:null,i=n&&"function"==typeof n.apply?n.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};e=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var r=Number.isNaN||function(t){return t!=t};function o(){o.init.call(this)}t.exports=o,t.exports.once=function(t,e){return new Promise((function(n,i){function r(n){t.removeListener(e,o),i(n)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",r),n([].slice.call(arguments))}g(t,e,o,{once:!0}),"error"!==e&&function(t,e,n){"function"==typeof t.on&&g(t,"error",e,{once:!0})}(t,r)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function c(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function a(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function u(t,e,n,i){var r,o,s,u;if(c(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),void 0===s)s=o[e]=n,++t._eventsCount;else if("function"==typeof s?s=o[e]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),(r=a(t))>0&&s.length>r&&!s.warned){s.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=t,f.type=e,f.count=s.length,u=f,console&&console.warn&&console.warn(u)}return t}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(t,e,n){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},r=f.bind(i);return r.listener=n,i.wrapFn=r,r}function h(t,e,n){var i=t._events;if(void 0===i)return[];var r=i[e];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(r):p(r,r.length)}function d(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t[i];return n}function g(t,e,n,i){if("function"==typeof t.on)i.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function r(o){i.once&&t.removeEventListener(e,r),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(t){if("number"!=typeof t||t<0||r(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");s=t}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||r(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return a(this)},o.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var c=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw c.context=s,c}var a=o[t];if(void 0===a)return!1;if("function"==typeof a)i(a,this,e);else{var u=a.length,f=p(a,u);for(n=0;n<u;++n)i(f[n],this,e)}return!0},o.prototype.addListener=function(t,e){return u(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return u(this,t,e,!0)},o.prototype.once=function(t,e){return c(e),this.on(t,l(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return c(e),this.prependListener(t,l(this,t,e)),this},o.prototype.removeListener=function(t,e){var n,i,r,o,s;if(c(e),void 0===(i=this._events))return this;if(void 0===(n=i[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){s=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,r),1===n.length&&(i[t]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",t,s||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},o.prototype.listeners=function(t){return h(this,t,!0)},o.prototype.rawListeners=function(t){return h(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},o.prototype.listenerCount=d,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},666:t=>{var e=function(t){"use strict";var e,n=Object.prototype,i=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function a(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(t){a=function(t,e,n){return t[e]=n}}function u(t,e,n,i){var r=e&&e.prototype instanceof y?e:y,o=Object.create(r.prototype),s=new w(i||[]);return o._invoke=function(t,e,n){var i=l;return function(r,o){if(i===d)throw new Error("Generator is already running");if(i===p){if("throw"===r)throw o;return A()}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var c=x(s,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===l)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=d;var a=f(t,e,n);if("normal"===a.type){if(i=n.done?p:h,a.arg===g)continue;return{value:a.arg,done:n.done}}"throw"===a.type&&(i=p,n.method="throw",n.arg=a.arg)}}}(t,n,s),o}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l="suspendedStart",h="suspendedYield",d="executing",p="completed",g={};function y(){}function v(){}function m(){}var k={};a(k,o,(function(){return this}));var j=Object.getPrototypeOf,b=j&&j(j(O([])));b&&b!==n&&i.call(b,o)&&(k=b);var _=m.prototype=y.prototype=Object.create(k);function I(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function n(r,o,s,c){var a=f(t[r],t,o);if("throw"!==a.type){var u=a.arg,l=u.value;return l&&"object"==typeof l&&i.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):e.resolve(l).then((function(t){u.value=t,s(u)}),(function(t){return n("throw",t,s,c)}))}c(a.arg)}var r;this._invoke=function(t,i){function o(){return new e((function(e,r){n(t,i,e,r)}))}return r=r?r.then(o,o):o()}}function x(t,n){var i=t.iterator[n.method];if(i===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var r=f(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,g;var o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function M(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function w(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function O(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,s=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return s.next=s}}return{next:A}}function A(){return{value:e,done:!0}}return v.prototype=m,a(_,"constructor",m),a(m,"constructor",v),v.displayName=a(m,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,a(t,c,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},I(C.prototype),a(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var s=new C(u(e,n,i,r),o);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},I(_),a(_,c,"Generator"),a(_,o,(function(){return this})),a(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=O,w.prototype={constructor:w,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return c.type="throw",c.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],c=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var a=i.call(s,"catchLoc"),u=i.call(s,"finallyLoc");if(a&&u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;E(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:O(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),g}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},794:t=>{"use strict";t.exports=p},714:t=>{"use strict";t.exports=f},282:t=>{"use strict";t.exports=x},632:t=>{"use strict";t.exports=k},647:t=>{"use strict";t.exports=g},518:t=>{"use strict";t.exports=E},165:t=>{"use strict";t.exports=w},468:t=>{"use strict";t.exports=y},218:t=>{"use strict";t.exports=C},99:t=>{"use strict";t.exports=I},204:t=>{"use strict";t.exports=_},92:t=>{"use strict";t.exports=l},436:t=>{"use strict";t.exports=d},493:t=>{"use strict";t.exports=a},381:t=>{"use strict";t.exports=e},377:t=>{"use strict";t.exports=b},401:t=>{"use strict";t.exports=S},24:t=>{"use strict";t.exports=n},646:e=>{"use strict";e.exports=t},202:t=>{"use strict";t.exports=s},76:t=>{"use strict";t.exports=r},655:t=>{"use strict";t.exports=c},225:t=>{"use strict";t.exports=R},254:t=>{"use strict";t.exports=j},718:t=>{"use strict";t.exports=v},785:t=>{"use strict";t.exports=M},575:t=>{"use strict";t.exports=o},386:t=>{"use strict";t.exports=N},350:t=>{"use strict";t.exports=O},507:t=>{"use strict";t.exports=A},920:t=>{"use strict";t.exports=u},390:t=>{"use strict";t.exports=h},536:t=>{"use strict";t.exports=m},786:t=>{"use strict";t.exports=i},854:()=>{},697:()=>{}},T={};function P(t){var e=T[t];if(void 0!==e)return e.exports;var n=T[t]={exports:{}};return L[t](n,n.exports,P),n.exports}P.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return P.d(e,{a:e}),e},P.d=(t,e)=>{for(var n in e)P.o(e,n)&&!P.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},P.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),P.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var D={};return(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function i(t,e){return i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},i(t,e)}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}function o(e,n){if(n&&("object"===t(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e)}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}P.r(D),P.d(D,{APP_VERSION_CODE:()=>Nt,APP_VERSION_NAME:()=>At,CARRIER_NAME:()=>wt,DEVICE_LOCALE:()=>yt,DEVICE_MODEL:()=>mt,DEVICE_TYPE:()=>vt,DecisionApiConfig:()=>W,DecisionMode:()=>B,Event:()=>it,EventCategory:()=>tt,FLAGSHIP_CLIENT:()=>St,FLAGSHIP_CONTEXT:()=>Pt,FLAGSHIP_VERSION:()=>Lt,FLAGSHIP_VISITOR:()=>Tt,Flagship:()=>Zt,FlagshipStatus:()=>d,HitAbstract:()=>nt,HitType:()=>p,INTERFACE_NAME:()=>Rt,INTERNET_CONNECTION:()=>Ot,IP:()=>Ct,Item:()=>rt,LOCATION_CITY:()=>kt,LOCATION_COUNTRY:()=>bt,LOCATION_LAT:()=>_t,LOCATION_LONG:()=>It,LOCATION_REGION:()=>jt,LogLevel:()=>c,OS_NAME:()=>xt,OS_VERSION_CODE:()=>Et,OS_VERSION_NAME:()=>Mt,Page:()=>ot,Screen:()=>st,Transaction:()=>ct,Visitor:()=>q,default:()=>Jt}),P(646),P(381),P(24);var c,a=P(187),u={},f="undefined"==typeof window?P(786).default:window.fetch;if("undefined"==typeof window){var l=P(854).Agent,h=P(697).Agent;u.agent=function(t){return"http:"===t.protocol?new l({keepAlive:!0}):new h({keepAlive:!0})}}!function(t){t[t.NONE=0]="NONE",t[t.EMERGENCY=1]="EMERGENCY",t[t.ALERT=2]="ALERT",t[t.CRITICAL=3]="CRITICAL",t[t.ERROR=4]="ERROR",t[t.WARNING=5]="WARNING",t[t.NOTICE=6]="NOTICE",t[t.INFO=7]="INFO",t[t.DEBUG=8]="DEBUG",t[t.ALL=9]="ALL"}(c||(c={}));var d,p,g="TypeScript",y="https://decision.flagship.io/v2/",v="v2",m="ready",k="Key {0} must not be null. Default value is returned.",j="No modification for key {0}.",b="{0} must be a {1}",_="visitorId must not be null or empty",I="Method {0} is deactivated while SDK status is: {1}.",C="INITIALIZATION",x="UPDATE CONTEXT",M="GET MODIFICATION",E="GET MODIFICATION INFO",w="ACTIVE MODIFICATION",O="SEND HIT",A="cid",N="x-api-key",R="Content-Type",S="x-sdk-client",L="x-sdk-version",T="application/json";!function(t){t[t.NOT_READY=0]="NOT_READY",t[t.NOT_INITIALIZED=0]="NOT_INITIALIZED",t[t.STARTING=1]="STARTING",t[t.POLLING=2]="POLLING",t[t.READY_PANIC_ON=3]="READY_PANIC_ON",t[t.READY=4]="READY"}(d||(d={})),function(t){t.PAGE_VIEW="PAGEVIEW",t.PAGE="PAGEVIEW",t.SCREEN_VIEW="SCREENVIEW",t.SCREEN="SCREENVIEW",t.TRANSACTION="TRANSACTION",t.ITEM="ITEM",t.EVENT="EVENT"}(p||(p={}));var B,q=function(t){r(a,t);var e,i,c=(e=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=s(e);if(i){var r=s(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return o(this,t)});function a(t){var e;return(e=c.call(this)).visitorDelegate=t,e.visitorDelegate.on(m,(function(t){e.emit(m,t)})),e}return n(a,[{key:"getModificationsArray",value:function(){return this.visitorDelegate.getModificationsArray()}},{key:"visitorId",get:function(){return this.visitorDelegate.visitorId},set:function(t){this.visitorDelegate.visitorId=t}},{key:"anonymousId",get:function(){return this.visitorDelegate.anonymousId}},{key:"hasConsented",get:function(){return this.visitorDelegate.hasConsented}},{key:"setConsent",value:function(t){this.visitorDelegate.setConsent(t)}},{key:"config",get:function(){return this.visitorDelegate.config}},{key:"context",get:function(){return this.visitorDelegate.context}},{key:"modifications",get:function(){return this.visitorDelegate.modifications}},{key:"updateContext",value:function(t){this.visitorDelegate.updateContext(t)}},{key:"clearContext",value:function(){this.visitorDelegate.clearContext()}},{key:"getModification",value:function(t){return this.visitorDelegate.getModification(t)}},{key:"getModificationSync",value:function(t){return this.visitorDelegate.getModificationSync(t)}},{key:"getModifications",value:function(t,e){return this.visitorDelegate.getModifications(t,e)}},{key:"getModificationsSync",value:function(t,e){return this.visitorDelegate.getModificationsSync(t,e)}},{key:"getModificationInfo",value:function(t){return this.visitorDelegate.getModificationInfo(t)}},{key:"getModificationInfoSync",value:function(t){return this.visitorDelegate.getModificationInfoSync(t)}},{key:"synchronizeModifications",value:function(){return this.visitorDelegate.synchronizeModifications()}},{key:"activateModification",value:function(t){return this.visitorDelegate.activateModification(t)}},{key:"activateModifications",value:function(t){return this.visitorDelegate.activateModifications(t)}},{key:"sendHit",value:function(t){return this.visitorDelegate.sendHit(t)}},{key:"sendHits",value:function(t){return this.visitorDelegate.sendHits(t)}},{key:"getAllModifications",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.visitorDelegate.getAllModifications(t)}},{key:"getModificationsForCampaign",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.visitorDelegate.getModificationsForCampaign(t,e)}},{key:"authenticate",value:function(t){this.visitorDelegate.authenticate(t)}},{key:"unauthenticate",value:function(){this.visitorDelegate.unauthenticate()}}]),a}(a.EventEmitter);function G(t){for(var e=t,n=0;n<(arguments.length<=1?0:arguments.length-1);n++){var i=n+1<1||arguments.length<=n+1?void 0:arguments[n+1];e=e.replace(new RegExp("\\{".concat(n,"\\}"),"g"),i)}return e}function V(t,e,n){t&&t.logManager&&"function"==typeof t.logManager.error&&t.logLevel&&!(t.logLevel<c.ERROR)&&t.logManager.error(e,n)}function F(t,e,n){t&&t.logManager&&"function"==typeof t.logManager.info&&t.logLevel&&!(t.logLevel<c.INFO)&&t.logManager.info(e,n)}P(76),P(575),P(202),P(655),function(t){t.DECISION_API="API",t.BUCKETING="BUCKETING"}(B||(B={}));var H=function(){function t(t){var e=t.envId,n=t.apiKey,i=t.timeout,r=t.logLevel,o=t.logManager,s=t.statusChangedCallback,a=t.fetchNow,u=t.decisionMode,f=t.enableClientCache,l=t.initialBucketing,h=t.decisionApiUrl;this.decisionApiUrl=h||y,this._envId=e,this._apiKey=n,this.logLevel=r||c.ALL,this.timeout=i||2,this.fetchNow=void 0===a||a,this.enableClientCache=void 0===f||f,this._decisionMode=u||B.DECISION_API,this._initialBucketing=l,o&&(this.logManager=o),this.statusChangedCallback=s}return n(t,[{key:"initialBucketing",get:function(){return this._initialBucketing},set:function(t){this._initialBucketing=t}},{key:"enableClientCache",get:function(){return this._enableClientCache},set:function(t){this._enableClientCache=t}},{key:"onBucketingSuccess",get:function(){return this._onBucketingSuccess},set:function(t){this._onBucketingSuccess=t}},{key:"onBucketingFail",get:function(){return this._onBucketingFail},set:function(t){this._onBucketingFail=t}},{key:"onBucketingUpdated",get:function(){return this._onBucketingUpdated},set:function(t){this._onBucketingUpdated=t}},{key:"envId",get:function(){return this._envId},set:function(t){this._envId=t}},{key:"apiKey",get:function(){return this._apiKey},set:function(t){this._apiKey=t}},{key:"decisionMode",get:function(){return this._decisionMode}},{key:"timeout",get:function(){return this._timeout},set:function(t){this._timeout=t}},{key:"logLevel",get:function(){return this._logLevel},set:function(t){this._logLevel=t}},{key:"fetchNow",get:function(){return this._fetchNow},set:function(t){this._fetchNow=t}},{key:"pollingInterval",get:function(){return this._pollingInterval},set:function(t){this._pollingInterval=t}},{key:"statusChangedCallback",get:function(){return this._statusChangedCallback},set:function(t){"function"==typeof t?this._statusChangedCallback=t:V(this,"statusChangedCallback must be a function","statusChangedCallback")}},{key:"logManager",get:function(){return this._logManager},set:function(t){this._logManager=t}},{key:"decisionApiUrl",get:function(){return this._decisionApiUrl},set:function(t){"string"==typeof t?this._decisionApiUrl=t:V(this,G(b,"decisionApiUrl","string"),"decisionApiUrl")}}]),t}();function K(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?U(Object(n),!0).forEach((function(e){K(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}P(493),P(920),P(714),P(92),P(390),P(436);var W=function(t){r(c,t);var e,n,i=(e=c,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=s(e);if(n){var r=s(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return o(this,t)});function c(t){return i.call(this,Y(Y({},t),{},{decisionMode:B.DECISION_API}))}return c}(H),Q=function(){function t(t,e,n){this._config=t,this._decisionManager=e,this._trackingManager=n}return n(t,[{key:"config",get:function(){return this._config},set:function(t){this._config=t}},{key:"decisionManager",get:function(){return this._decisionManager},set:function(t){this._decisionManager=t}},{key:"trackingManager",get:function(){return this._trackingManager},set:function(t){this._trackingManager=t}}]),t}();function z(t,e,n,i,r,o,s){try{var c=t[o](s),a=c.value}catch(t){return void n(t)}c.done?e(a):Promise.resolve(a).then(i,r)}function Z(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var o=t.apply(e,n);function s(t){z(o,i,r,s,c,"next",t)}function c(t){z(o,i,r,s,c,"throw",t)}s(void 0)}))}}var J=P(757),X=P.n(J),$=(P(794),P(647),P(468),P(718),P(536),function(){function t(t,e){K(this,"_panic",!1),this._config=e,this._httpClient=t}var e;return n(t,[{key:"config",get:function(){return this._config}},{key:"panic",set:function(t){this.updateFlagshipStatus(t?d.READY_PANIC_ON:d.READY),this._panic=t}},{key:"statusChangedCallback",value:function(t){this._statusChangedCallback=t}},{key:"updateFlagshipStatus",value:function(t){"function"==typeof this._statusChangedCallback&&this._statusChangedCallback&&this._statusChangedCallback(t)}},{key:"getModifications",value:function(t){var e=new Map;return t.forEach((function(t){var n=t.variation.modifications.value;for(var i in n){var r=n[i];e.set(i,{key:i,campaignId:t.id,variationGroupId:t.variationGroupId,variationId:t.variation.id,isReference:t.variation.reference,value:r})}})),e}},{key:"getCampaignsModificationsAsync",value:(e=Z(X().mark((function t(e){var n=this;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.getCampaignsAsync(e).then((function(t){return n.getModifications(t)})).catch((function(t){return V(n.config,t.message||t,"getCampaignsModificationsAsync"),new Map})));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"isPanic",value:function(){return this._panic}}]),t}());var tt,et=function(t){r(u,t);var e,i,c,a=(i=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=s(i);if(c){var n=s(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return o(this,t)});function u(){return a.apply(this,arguments)}return n(u,[{key:"getCampaignsAsync",value:(e=Z(X().mark((function t(e){var n,i,r,o,s=this;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return K(n={},N,"".concat(this.config.apiKey)),K(n,S,g),K(n,L,v),K(n,R,T),i=n,r={visitorId:e.visitorId,anonymousId:e.anonymousId,trigger_hit:!1,context:e.context},o="".concat(this.config.decisionApiUrl||y).concat(this.config.envId).concat("/campaigns","?").concat("exposeAllKeys","=true"),e.hasConsented||(o+="&".concat("sendContextEvent","=false")),t.abrupt("return",this._httpClient.postAsync(o,{headers:i,timeout:this.config.timeout,body:r}).then((function(t){s.panic=!!t.body.panic;var e=[];return t.body.campaigns&&(e=t.body.campaigns),e})).catch((function(t){return V(s.config,t.message||t,"GET CAMPAIGNS"),[]})));case 5:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}]),u}($),nt=(P(632),P(254),P(377),P(204),P(99),function(){function t(t){this.type=t,this._anonymousId=null}return n(t,[{key:"anonymousId",get:function(){return this._anonymousId},set:function(t){this._anonymousId=t}},{key:"visitorId",get:function(){return this._visitorId},set:function(t){this._visitorId=t}},{key:"ds",get:function(){return this._ds},set:function(t){this._ds=t}},{key:"type",get:function(){return this._type},set:function(t){this._type=t}},{key:"config",get:function(){return this._config},set:function(t){this._config=t}},{key:"isNotEmptyString",value:function(t,e){return!(!t||"string"!=typeof t)||(V(this.config,G(b,e,"string"),e),!1)}},{key:"isNumeric",value:function(t,e){return!(!t||"number"!=typeof t)||(V(this.config,G(b,e,"number"),e),!1)}},{key:"isInteger",value:function(t,e){return t&&"number"==typeof t?(Number.isInteger(t)||V(this.config,G("value of {0} is not an {1}, it will be truncated to {1}",e,"integer"),e),!0):(V(this.config,G(b,e,"integer"),e),!1)}},{key:"toApiKeys",value:function(){var t,e=(K(t={},"vid",this.visitorId),K(t,"ds",this.ds),K(t,A,"".concat(this.config.envId)),K(t,"t",this.type),t);return this.visitorId&&this._anonymousId?(e.vid=this._anonymousId,e.cuid=this.visitorId):(e.vid=this._anonymousId||this.visitorId,e.cuid=null),e}},{key:"isReady",value:function(){return!!(this.visitorId&&this.ds&&this.config&&this.config.envId&&this.type)}}]),t}());!function(t){t.ACTION_TRACKING="ACTION TRACKING",t.USER_ENGAGEMENT="USER ENGAGEMENT"}(tt||(tt={}));var it=function(t){r(a,t);var e,i,c=(e=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=s(e);if(i){var r=s(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return o(this,t)});function a(t){var e;e=c.call(this,p.EVENT);var n=t.category,i=t.action,r=t.eventLabel,o=t.eventValue;return e.category=n,e.action=i,r&&(e.eventLabel=r),o&&(e.eventValue=o),e}return n(a,[{key:"category",get:function(){return this._category},set:function(t){Object.values(tt).includes(t)?this._category=t:V(this.config,"The category value must be either EventCategory::ACTION_TRACKING or EventCategory::ACTION_TRACKING","category")}},{key:"action",get:function(){return this._action},set:function(t){this.isNotEmptyString(t,"action")&&(this._action=t)}},{key:"eventLabel",get:function(){return this._eventLabel},set:function(t){this.isNotEmptyString(t,"eventLabel")&&(this._eventLabel=t)}},{key:"eventValue",get:function(){return this._eventValue},set:function(t){this.isNumeric(t,"eventValue")&&(this._eventValue=t)}},{key:"toApiKeys",value:function(){var e=t.prototype.toApiKeys.call(this);return e.ec=this.category,e.ea=this.action,this.eventLabel&&(e.el=this.eventLabel),this.eventValue&&(e.ev=this.eventValue),e}},{key:"isReady",value:function(){return!!(t.prototype.isReady.call(this)&&this.category&&this.action)}},{key:"getErrorMessage",value:function(){return"event category and event action are required"}}]),a}(nt);P(218);var rt=function(t){r(a,t);var e,i,c=(e=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=s(e);if(i){var r=s(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return o(this,t)});function a(t){var e;e=c.call(this,p.ITEM);var n=t.transactionId,i=t.productName,r=t.productSku,o=t.itemCategory,s=t.itemPrice,a=t.itemQuantity;return e.transactionId=n,e.productName=i,e.productSku=r,o&&(e.itemCategory=o),s&&(e.itemPrice=s),a&&(e.itemQuantity=a),e}return n(a,[{key:"transactionId",get:function(){return this._transactionId},set:function(t){this.isNotEmptyString(t,"transactionId")&&(this._transactionId=t)}},{key:"productName",get:function(){return this._productName},set:function(t){this.isNotEmptyString(t,"productName")&&(this._productName=t)}},{key:"productSku",get:function(){return this._productSku},set:function(t){this.isNotEmptyString(t,"productSku")&&(this._productSku=t)}},{key:"itemPrice",get:function(){return this._itemPrice},set:function(t){this.isNumeric(t,"itemPrice")&&(this._itemPrice=t)}},{key:"itemQuantity",get:function(){return this._itemQuantity},set:function(t){this.isInteger(t,"itemQuantity")&&(this._itemQuantity=Math.trunc(t))}},{key:"itemCategory",get:function(){return this._itemCategory},set:function(t){this.isNotEmptyString(t,"itemCategory")&&(this._itemCategory=t)}},{key:"isReady",value:function(){return!!(t.prototype.isReady.call(this)&&this.transactionId&&this.productName&&this.productSku)}},{key:"toApiKeys",value:function(){var e=t.prototype.toApiKeys.call(this);return e.tid=this.transactionId,e.in=this.productName,e.ic=this.productSku,this.itemPrice&&(e.ip=this.itemPrice),this.itemQuantity&&(e.iq=this.itemQuantity),this.itemCategory&&(e.iv=this.itemCategory),e}},{key:"getErrorMessage",value:function(){return"Transaction Id, Item name and item code are required"}}]),a}(nt);var ot=function(t){r(a,t);var e,i,c=(e=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=s(e);if(i){var r=s(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return o(this,t)});function a(t){var e;return(e=c.call(this,p.PAGE_VIEW)).documentLocation=null==t?void 0:t.documentLocation,e}return n(a,[{key:"documentLocation",get:function(){return this._documentLocation},set:function(t){this.isNotEmptyString(t,"documentLocation")&&(this._documentLocation=t)}},{key:"isReady",value:function(){return!(!t.prototype.isReady.call(this)||!this.documentLocation)}},{key:"toApiKeys",value:function(){var e=t.prototype.toApiKeys.call(this);return e.dl=this.documentLocation,e}},{key:"getErrorMessage",value:function(){return"documentLocation url is required"}}]),a}(nt);var st=function(t){r(a,t);var e,i,c=(e=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=s(e);if(i){var r=s(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return o(this,t)});function a(t){var e;return(e=c.call(this,p.SCREEN_VIEW)).documentLocation=null==t?void 0:t.documentLocation,e}return n(a,[{key:"documentLocation",get:function(){return this._documentLocation},set:function(t){this.isNotEmptyString(t,"documentLocation")&&(this._documentLocation=t)}},{key:"isReady",value:function(){return!(!t.prototype.isReady.call(this)||!this.documentLocation)}},{key:"toApiKeys",value:function(){var e=t.prototype.toApiKeys.call(this);return e.dl=this.documentLocation,e}},{key:"getErrorMessage",value:function(){return"Screen name is required"}}]),a}(nt);var ct=function(t){r(a,t);var e,i,c=(e=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=s(e);if(i){var r=s(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return o(this,t)});function a(t){var e;e=c.call(this,p.TRANSACTION);var n=t.transactionId,i=t.affiliation,r=t.taxes,o=t.currency,s=t.couponCode,a=t.itemCount,u=t.shippingMethod,f=t.paymentMethod,l=t.totalRevenue,h=t.shippingCosts;return e.transactionId=n,e.affiliation=i,r&&(e.taxes=r),o&&(e.currency=o),s&&(e.couponCode=s),a&&(e.itemCount=a),u&&(e.shippingMethod=u),f&&(e.paymentMethod=f),l&&(e.totalRevenue=l),h&&(e.shippingCosts=h),e}return n(a,[{key:"transactionId",get:function(){return this._transactionId},set:function(t){this.isNotEmptyString(t,"transactionId")&&(this._transactionId=t)}},{key:"affiliation",get:function(){return this._affiliation},set:function(t){this.isNotEmptyString(t,"affiliation")&&(this._affiliation=t)}},{key:"taxes",get:function(){return this._taxes},set:function(t){this.isNumeric(t,"taxes")&&(this._taxes=t)}},{key:"currency",get:function(){return this._currency},set:function(t){t&&"string"==typeof t&&3===t.length?this._currency=t:V(this.config,G("{0} must be a string and have exactly 3 letters","currency"),"currency")}},{key:"couponCode",get:function(){return this._couponCode},set:function(t){this.isNotEmptyString(t,"couponCode")&&(this._couponCode=t)}},{key:"itemCount",get:function(){return this._itemCount},set:function(t){this.isInteger(t,"itemCount")&&(this._itemCount=Math.trunc(t))}},{key:"shippingMethod",get:function(){return this._shippingMethod},set:function(t){this.isNotEmptyString(t,"shippingMethod")&&(this._shippingMethod=t)}},{key:"paymentMethod",get:function(){return this._paymentMethod},set:function(t){this.isNotEmptyString(t,"paymentMethod")&&(this._paymentMethod=t)}},{key:"totalRevenue",get:function(){return this._totalRevenue},set:function(t){this.isNumeric(t,"totalRevenue")&&(this._totalRevenue=t)}},{key:"shippingCosts",get:function(){return this._shippingCosts},set:function(t){this.isNumeric(t,"shippingCosts")&&(this._shippingCosts=t)}},{key:"isReady",value:function(){return!!(t.prototype.isReady.call(this)&&this.transactionId&&this.affiliation)}},{key:"toApiKeys",value:function(){var e=t.prototype.toApiKeys.call(this);return e.tid=this.transactionId,e.ta=this.affiliation,this.taxes&&(e.tt=this.taxes),this.currency&&(e.tc=this.currency),this.couponCode&&(e.tcc=this.couponCode),this.itemCount&&(e.icn=this.itemCount),this.shippingMethod&&(e.sm=this.shippingMethod),this.paymentMethod&&(e.pm=this.paymentMethod),this.totalRevenue&&(e.tr=this.totalRevenue),this.shippingCosts&&(e.ts=this.shippingCosts),e}},{key:"getErrorMessage",value:function(){return"Transaction Id and Transaction affiliation are required"}}]),a}(nt);var at=function(t){r(l,t);var e,i,c,a,u,f=(a=l,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=s(a);if(u){var n=s(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return o(this,t)});function l(){return f.apply(this,arguments)}return n(l,[{key:"sendConsentHit",value:(c=Z(X().mark((function t(e){var n,i,r;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return K(n={},"t",p.EVENT),K(n,"el","".concat(g,":").concat(e.hasConsented)),K(n,"ea","fs_consent"),K(n,"ec",tt.USER_ENGAGEMENT),K(n,A,this.config.envId),K(n,"ds","APP"),i=n,e.visitorId&&e.anonymousId?(i.vid=e.anonymousId,i.cuid=e.visitorId):(i.vid=e.anonymousId||e.visitorId,i.cuid=null),r=K({},R,T),t.next=5,this.httpClient.postAsync("https://ariane.abtasty.com",{headers:r,timeout:this.config.timeout,body:i});case 5:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)})},{key:"sendActive",value:(i=Z(X().mark((function t(e,n){var i,r,o,s,c;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return K(i={},N,"".concat(this.config.apiKey)),K(i,S,g),K(i,L,v),K(i,R,T),o=i,s="".concat(y).concat("activate"),K(r={},"vid",e.visitorId),K(r,"vaid",n.variationId),K(r,"caid",n.variationGroupId),K(r,A,"".concat(this.config.envId)),c=r,e.visitorId&&e.anonymousId?(c.vid=e.visitorId,c.aid=e.anonymousId):(c.vid=e.anonymousId||e.visitorId,c.aid=null),t.next=6,this.httpClient.postAsync(s,{headers:o,timeout:this.config.timeout,body:c});case 6:case"end":return t.stop()}}),t,this)}))),function(t,e){return i.apply(this,arguments)})},{key:"sendHit",value:(e=Z(X().mark((function t(e){var n;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=K({},R,T),t.next=3,this.httpClient.postAsync("https://ariane.abtasty.com",{headers:n,timeout:this.config.timeout,body:e.toApiKeys()});case 3:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}]),l}(function(){function t(t,e){this._httpClient=t,this._config=e}return n(t,[{key:"httpClient",get:function(){return this._httpClient}},{key:"config",get:function(){return this._config}}]),t}()),ut=function(){function t(){}return n(t,[{key:"emergency",value:function(t,e){this.log(c.EMERGENCY,t,e)}},{key:"alert",value:function(t,e){this.log(c.ALERT,t,e)}},{key:"critical",value:function(t,e){this.log(c.CRITICAL,t,e)}},{key:"error",value:function(t,e){this.log(c.ERROR,t,e)}},{key:"warning",value:function(t,e){this.log(c.WARNING,t,e)}},{key:"notice",value:function(t,e){this.log(c.NOTICE,t,e)}},{key:"info",value:function(t,e){this.log(c.INFO,t,e)}},{key:"debug",value:function(t,e){this.log(c.DEBUG,t,e)}},{key:"log",value:function(t,e,n){var i=new Date,r=function(t){return 1===t.toString().length?"0".concat(t):t},o="[".concat(r(i.getFullYear()),"-").concat(r(i.getMonth()),"-").concat(r(i.getDay())," ").concat(r(i.getHours()),":").concat(r(i.getMinutes()),"] [").concat("Flagship SDK","] [").concat(c[t],"] [").concat(n,"] : ").concat(e);console.log(o)}}]),t}();function ft(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function lt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ht(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lt(Object(n),!0).forEach((function(e){K(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}P(282);var dt,pt=function(t){r(c,t);var e,n,i=(e=c,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=s(e);if(n){var r=s(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return o(this,t)});function c(t){var e,n;return(n=i.call(this,ht(ht({},t),{},{decisionMode:B.BUCKETING}))).pollingInterval=null!=(e=null==t?void 0:t.pollingInterval)?e:2,n.onBucketingFail=null==t?void 0:t.onBucketingFail,n.onBucketingSuccess=null==t?void 0:t.onBucketingSuccess,n.onBucketingUpdated=null==t?void 0:t.onBucketingUpdated,n}return c}(H),gt=(P(785),function(){function t(t){this.visitor=t}return n(t,[{key:"configManager",get:function(){return this.visitor.configManager}},{key:"trackingManager",get:function(){return this.configManager.trackingManager}},{key:"decisionManager",get:function(){return this.configManager.decisionManager}},{key:"config",get:function(){return this.visitor.config}},{key:"updateCampaigns",value:function(t){try{this.visitor.campaigns=t,this.visitor.modifications=this.decisionManager.getModifications(t)}catch(t){V(this.config,t.message||t,"updateCampaigns")}}}]),t}()),yt="sdk_deviceLanguage",vt="sdk_deviceType",mt="sdk_deviceModel",kt="sdk_city",jt="sdk_region",bt="sdk_country",_t="sdk_lat",It="sdk_long",Ct="sdk_ip",xt="sdk_osName",Mt="sdk_osVersionName",Et="sdk_osVersionCode",wt="sdk_carrierName",Ot="sdk_internetConnection",At="sdk_versionName",Nt="sdk_versionCode",Rt="sdk_interfaceName",St="fs_client",Lt="fs_version",Tt="fs_users",Pt=(K(dt={},yt,"string"),K(dt,vt,"string"),K(dt,mt,"string"),K(dt,kt,"string"),K(dt,jt,"string"),K(dt,bt,"string"),K(dt,_t,"number"),K(dt,It,"number"),K(dt,Ct,"string"),K(dt,xt,"string"),K(dt,Mt,"string"),K(dt,Et,"number"),K(dt,wt,"string"),K(dt,Ot,"string"),K(dt,At,"string"),K(dt,Nt,"number"),K(dt,Rt,"string"),K(dt,St,"string"),K(dt,Lt,"string"),K(dt,Tt,"string"),dt);var Dt=function(e){r(A,e);var i,c,a,u,f,l,h,d,g,y,v,b,I,C=(b=A,I=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=s(b);if(I){var n=s(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return o(this,t)});function A(){return C.apply(this,arguments)}return n(A,[{key:"setConsent",value:function(t){var e=this,n="setConsent";this.visitor.hasConsented=t,this.hasTrackingManager(n)&&this.trackingManager.sendConsentHit(this.visitor).catch((function(t){V(e.config,t.message||t,n)}))}},{key:"checkPredefinedContext",value:function(t,e){var n=Pt[t];if(!n)return null;var i=!1;return"string"===n?i="string"==typeof e:"number"===n&&(i="number"==typeof e),i||V(this.config,G("Predefined Context {0} must be type of {1}",t,n),x),i}},{key:"updateContextKeyValue",value:function(e,n){var i=t(n);if("string"!=typeof e||""===e||"string"!==i&&"number"!==i&&"boolean"!==i)V(this.visitor.config,G("params {0} must be a non null String, and 'value' must be one of the following types , Number, Boolean",e),x);else if(!e.match(/^fs_/i)){var r=this.checkPredefinedContext(e,n);("boolean"!=typeof r||r)&&(this.visitor.context[e]=n)}}},{key:"updateContext",value:function(t){if(t)for(var e in t){var n=t[e];this.updateContextKeyValue(e,n)}else V(this.visitor.config,"Context must not to be null",x)}},{key:"clearContext",value:function(){this.visitor.context={}}},{key:"checkAndGetModification",value:function(e,n){var i=this,r=e.key,o=e.defaultValue,s=e.activate;if(!r||"string"!=typeof r)return V(this.config,G(k,r),M),o;var c=this.visitor.modifications.get(r);if(!c)return F(this.config,G("No modification for key {0}. Default value is returned.",r),M),o;return"object"===t(c.value)&&"object"===t(o)&&Array.isArray(c.value)!==Array.isArray(o)||t(c.value)!==t(o)?(V(i.config,G("Modification for key {0} has a different type. Default value is returned.",r),M),c.value||!s&&!n||i.activateModification(r),o):((s||n)&&this.activateModification(r),c.value)}},{key:"getModifications",value:(v=Z(X().mark((function t(e,n){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.getModificationsSync(e,n));case 1:case"end":return t.stop()}}),t,this)}))),function(t,e){return v.apply(this,arguments)})},{key:"getModificationsSync",value:function(t,e){var n=this,i={};return t.forEach((function(t){i[t.key]=n.checkAndGetModification(t,e)})),i}},{key:"getModification",value:(y=Z(X().mark((function t(e){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.getModificationSync(e));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return y.apply(this,arguments)})},{key:"getModificationSync",value:function(t){return this.checkAndGetModification(t)}},{key:"getModificationInfo",value:(g=Z(X().mark((function t(e){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.getModificationInfoSync(e));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return g.apply(this,arguments)})},{key:"getModificationInfoSync",value:function(t){return t&&"string"==typeof t?this.visitor.modifications.get(t)||(V(this.visitor.config,G(j,t),E),null):(V(this.visitor.config,G(k,t),E),null)}},{key:"synchronizeModifications",value:(d=Z(X().mark((function t(){var e;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.decisionManager.getCampaignsAsync(this.visitor);case 3:e=t.sent,this.visitor.campaigns=e,this.visitor.modifications=this.decisionManager.getModifications(this.visitor.campaigns),this.visitor.emit(m),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),this.visitor.emit(m,t.t0),V(this.config,t.t0.message||t.t0,"SYNCHRONIZED MODIFICATION");case 13:case"end":return t.stop()}}),t,this,[[0,9]])}))),function(){return d.apply(this,arguments)})},{key:"activateModification",value:(h=Z(X().mark((function t(e){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&"string"==typeof e){t.next=3;break}return V(this.config,G(k,e),w),t.abrupt("return");case 3:return t.abrupt("return",this.activate(e));case 4:case"end":return t.stop()}}),t,this)}))),function(t){return h.apply(this,arguments)})},{key:"activateModifications",value:(l=Z(X().mark((function t(e){var n=this;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&Array.isArray(e)){t.next=3;break}return V(this.config,G(k,e),w),t.abrupt("return");case 3:e.forEach((function(t){"string"==typeof t?n.activate(t):n.activate(t.key)}));case 4:case"end":return t.stop()}}),t,this)}))),function(t){return l.apply(this,arguments)})},{key:"hasTrackingManager",value:function(t){var e=this.trackingManager;return e||V(this.config,G("trackerManager must not be null."),t),!!e}},{key:"activate",value:(f=Z(X().mark((function t(e){var n;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n=this.visitor.modifications.get(e)){t.next=5;break}return V(this.visitor.config,G(j,e),w),t.abrupt("return");case 5:if(this.hasTrackingManager(w)){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,this.trackingManager.sendActive(this.visitor,n);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),V(this.config,t.t0.message||t.t0,w);case 14:case"end":return t.stop()}}),t,this,[[0,11]])}))),function(t){return f.apply(this,arguments)})},{key:"sendHit",value:function(t){return this.hasTrackingManager(O)?this.prepareAndSendHit(t):Promise.resolve()}},{key:"sendHits",value:(u=Z(X().mark((function t(e){var n=this;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.hasTrackingManager(O)){t.next=2;break}return t.abrupt("return");case 2:e.forEach((function(t){n.prepareAndSendHit(t)}));case 3:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)})},{key:"getHit",value:function(t){var e=null;switch(t.type.toUpperCase()){case p.EVENT:e=new it(t);break;case p.ITEM:e=new rt(t);break;case p.PAGE:case p.PAGE_VIEW:e=new ot(t);break;case p.SCREEN:case p.SCREEN_VIEW:e=new st(t);break;case p.TRANSACTION:e=new ct(t)}return e}},{key:"prepareAndSendHit",value:(a=Z(X().mark((function t(e){var n,i;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(e instanceof nt)){t.next=5;break}n=e,t.next=10;break;case 5:if(i=this.getHit(e)){t.next=9;break}return V(this.config,"property type is required and must ",O),t.abrupt("return");case 9:n=i;case 10:if(n.visitorId=this.visitor.visitorId,n.ds="APP",n.config=this.config,n.anonymousId=this.visitor.anonymousId,n.isReady()){t.next=17;break}return V(this.config,n.getErrorMessage(),O),t.abrupt("return");case 17:return t.next=19,this.trackingManager.sendHit(n);case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(0),V(this.config,t.t0.message||t.t0,O);case 24:case"end":return t.stop()}}),t,this,[[0,21]])}))),function(t){return a.apply(this,arguments)})},{key:"getAllModifications",value:(c=Z(X().mark((function t(){var e=this,n=arguments;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.length>0&&void 0!==n[0]&&n[0]&&this.visitor.modifications.forEach((function(t,n){e.activateModification(n)})),t.abrupt("return",{visitorId:this.visitor.visitorId,campaigns:this.visitor.campaigns});case 3:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"getModificationsForCampaign",value:(i=Z(X().mark((function t(e){var n=this,i=arguments;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i.length>1&&void 0!==i[1]&&i[1]&&this.visitor.modifications.forEach((function(t){t.campaignId===e&&n.activateModification(t.key)})),t.abrupt("return",{visitorId:this.visitor.visitorId,campaigns:this.visitor.campaigns.filter((function(t){return t.id===e}))});case 3:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"authenticate",value:function(t){var e="authenticate";this.config.decisionMode!==B.BUCKETING?t?(this.visitor.anonymousId=this.visitor.visitorId,this.visitor.visitorId=t):V(this.config,_,e):this.logDeactivateOnBucketing(e)}},{key:"unauthenticate",value:function(){var t="unauthenticate";this.config.decisionMode!==B.BUCKETING?this.visitor.anonymousId?(this.visitor.visitorId=this.visitor.anonymousId,this.visitor.anonymousId=null):V(this.config,"Visitor is not authenticated yet",t):this.logDeactivateOnBucketing(t)}},{key:"logDeactivateOnBucketing",value:function(t){V(this.config,G("Method {0} is deactivated on Bucketing mode.",t),t)}}]),A}(gt);var Bt=function(t){r(f,t);var e,i,c,a,u=(c=f,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=s(c);if(a){var n=s(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return o(this,t)});function f(){return u.apply(this,arguments)}return n(f,[{key:"synchronizeModifications",value:function(){return this.log("synchronizeModifications"),Promise.resolve()}},{key:"getModificationSync",value:function(t){return this.log("getModification"),t.defaultValue}},{key:"getModificationsSync",value:function(t,e){this.log("getModifications");var n={};return t.forEach((function(t){n[t.key]=t.defaultValue})),n}},{key:"getModificationInfoSync",value:function(t){return this.log("getModificationInfo"),null}},{key:"activateModification",value:(i=Z(X().mark((function t(e){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.log("activateModification");case 1:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"activateModifications",value:(e=Z(X().mark((function t(e){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.log("activateModifications");case 1:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"sendHit",value:function(t){return this.log("sendHit"),Promise.resolve()}},{key:"sendHits",value:function(t){return this.log("sendHits"),Promise.resolve()}},{key:"log",value:function(t){V(this.config,G(I,t,d[d.NOT_INITIALIZED]),t)}}]),f}(Dt);var qt=function(t){r(f,t);var e,i,c,a,u=(c=f,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=s(c);if(a){var n=s(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return o(this,t)});function f(){return u.apply(this,arguments)}return n(f,[{key:"setConsent",value:function(t){this.visitor.hasConsented=t,V(this.config,G("Send consent hit is deactivated while SDK status is: {1}.",d[d.READY_PANIC_ON]),"setConsent")}},{key:"updateContext",value:function(t){this.log("updateContext")}},{key:"clearContext",value:function(){this.log("clearContext")}},{key:"getModificationSync",value:function(t){return this.log("getModification"),t.defaultValue}},{key:"getModificationsSync",value:function(t,e){this.log("getModifications");var n={};return t.forEach((function(t){n[t.key]=t.defaultValue})),n}},{key:"getModificationInfoSync",value:function(t){return this.log("getModificationInfo"),null}},{key:"activateModification",value:(i=Z(X().mark((function t(e){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.log("activateModification");case 1:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"activateModifications",value:(e=Z(X().mark((function t(e){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.log("activateModifications");case 1:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"sendHit",value:function(t){return this.log("sendHit"),Promise.resolve()}},{key:"sendHits",value:function(t){return this.log("sendHits"),Promise.resolve()}},{key:"log",value:function(t){V(this.config,G(I,t,d[d.READY_PANIC_ON]),t)}}]),f}(Dt);var Gt=function(t){r(f,t);var e,i,c,a,u=(c=f,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=s(c);if(a){var n=s(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return o(this,t)});function f(){return u.apply(this,arguments)}return n(f,[{key:"activateModification",value:(i=Z(X().mark((function t(e){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.log("activateModification");case 1:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"activateModifications",value:(e=Z(X().mark((function t(e){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.log("activateModifications");case 1:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"sendHit",value:function(t){return this.log("sendHit"),Promise.resolve()}},{key:"sendHits",value:function(t){return this.log("sendHits"),Promise.resolve()}},{key:"log",value:function(t){V(this.config,G("Method {0} is deactivated for visitor {1} : visitor did not consent.",t,this.visitor.visitorId),t)}}]),f}(Dt),Vt="FS_CLIENT_VISITOR";var Ft=function(t){r(a,t);var e,i,c=(e=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=s(e);if(i){var r=s(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return o(this,t)});function a(){return c.apply(this,arguments)}return n(a,[{key:"updateContext",value:function(t){this.getStrategy().updateContext(t)}},{key:"clearContext",value:function(){this.getStrategy().clearContext()}},{key:"getModification",value:function(t){return this.getStrategy().getModification(t)}},{key:"getModificationSync",value:function(t){return this.getStrategy().getModificationSync(t)}},{key:"getModifications",value:function(t,e){return this.getStrategy().getModifications(t,e)}},{key:"getModificationsSync",value:function(t,e){return this.getStrategy().getModificationsSync(t,e)}},{key:"getModificationInfo",value:function(t){return this.getStrategy().getModificationInfo(t)}},{key:"getModificationInfoSync",value:function(t){return this.getStrategy().getModificationInfoSync(t)}},{key:"synchronizeModifications",value:function(){return this.getStrategy().synchronizeModifications()}},{key:"activateModification",value:function(t){return this.getStrategy().activateModification(t)}},{key:"activateModifications",value:function(t){return this.getStrategy().activateModifications(t)}},{key:"sendHit",value:function(t){return this.getStrategy().sendHit(t)}},{key:"sendHits",value:function(t){return this.getStrategy().sendHits(t)}},{key:"getAllModifications",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.getStrategy().getAllModifications(t)}},{key:"getModificationsForCampaign",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getStrategy().getModificationsForCampaign(t,e)}},{key:"authenticate",value:function(t){this.getStrategy().authenticate(t),this.updateCache()}},{key:"unauthenticate",value:function(){this.getStrategy().unauthenticate(),this.updateCache()}}]),a}(function(t){r(a,t);var e,i,c=(e=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=s(e);if(i){var r=s(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return o(this,t)});function a(t){var e,n=t.visitorId,i=t.configManager,r=t.context,o=t.isAuthenticated,s=t.hasConsented,a=t.initialModifications,u=t.initialCampaigns;(e=c.call(this))._configManager=i;var f=e.config.enableClientCache?function(){var t=null;try{t=localStorage.getItem(Vt)}catch(t){}return t?JSON.parse(t):null}():null;return e.visitorId=n||(null==f?void 0:f.visitorId)||e.createVisitorId(),e.campaigns=[],e._context={},e.updateContext(r),e._anonymousId=(null==f?void 0:f.anonymousId)||null,e.loadPredefinedContext(),s||e.setConsent(!1),e.hasConsented=null==s||s,!e._anonymousId&&o&&e.config.decisionMode===B.DECISION_API&&(e._anonymousId=e.uuidV4()),e.updateCache(),e.setInitialModifications(a),e.setInitializeCampaigns(u,!!a),e}return n(a,[{key:"getModificationsArray",value:function(){return Array.from(this._modifications,(function(t){var e,n,i=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,o=[],s=!0,c=!1;try{for(n=n.call(t);!(s=(i=n.next()).done)&&(o.push(i.value),!e||o.length!==e);s=!0);}catch(t){c=!0,r=t}finally{try{s||null==n.return||n.return()}finally{if(c)throw r}}return o}}(e,n)||function(t,e){if(t){if("string"==typeof t)return ft(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ft(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return i[0],i[1]}))}},{key:"setInitialModifications",value:function(t){var e=this;this._modifications=new Map,t&&(t instanceof Map||Array.isArray(t))&&t.forEach((function(t){e._modifications.set(t.key,t)}))}},{key:"setInitializeCampaigns",value:function(t,e){t&&Array.isArray(t)&&!e&&this.getStrategy().updateCampaigns(t)}},{key:"updateCache",value:function(){!function(t){try{localStorage.setItem(Vt,JSON.stringify(t))}catch(t){}}({visitorId:this.visitorId,anonymousId:this.anonymousId})}},{key:"loadPredefinedContext",value:function(){this.context.fs_client=g,this.context.fs_version=v,this.context.fs_users=this.visitorId}},{key:"uuidV4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}},{key:"createVisitorId",value:function(){var t=new Date,e=Math.floor(89999*Math.random()+1e4),n=function(t){return 1===t.toString().length?"0".concat(t):t};return"".concat(t.getFullYear()).concat(n(t.getMonth()+1)).concat(n(t.getDate())).concat(n(t.getHours())).concat(n(t.getMinutes())).concat(e)}},{key:"visitorId",get:function(){return this._visitorId},set:function(t){t&&"string"==typeof t?this._visitorId=t:V(this.config,_,"VISITOR ID")}},{key:"hasConsented",get:function(){return this._hasConsented},set:function(t){this._hasConsented=t}},{key:"setConsent",value:function(t){this.getStrategy().setConsent(t)}},{key:"context",get:function(){return this._context},set:function(t){this._context={},this.updateContext(t)}},{key:"modifications",get:function(){return this._modifications},set:function(t){this._modifications=t}},{key:"configManager",get:function(){return this._configManager}},{key:"config",get:function(){return this.configManager.config}},{key:"campaigns",get:function(){return this._campaigns},set:function(t){this._campaigns=t}},{key:"anonymousId",get:function(){return this._anonymousId},set:function(t){this._anonymousId=t}},{key:"getStrategy",value:function(){return Zt.getStatus()&&Zt.getStatus()!==d.NOT_INITIALIZED?Zt.getStatus()===d.READY_PANIC_ON?new qt(this):this.hasConsented?new Dt(this):new Gt(this):new Bt(this)}}]),a}(a.EventEmitter));function Ht(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Kt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kt(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){c=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw o}}}}function Kt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}P(518),P(165),P(350),P(507),P(386),P(225);var Ut=function(t){r(l,t);var e,i,c,a,u,f=(a=l,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=s(a);if(u){var n=s(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return o(this,t)});function l(t,e,n){var i;return(i=f.call(this,t,e))._murmurHash=n,i._isFirstPooling=!0,e.initialBucketing&&(i._bucketingContent=e.initialBucketing),i}return n(l,[{key:"finishLoop",value:function(t){if(200===t.status&&(this._bucketingContent=t.body),t.headers&&t.headers["last-modified"]){var e=t.headers["last-modified"];this._lastModified!==e&&this.config.onBucketingUpdated&&this.config.onBucketingUpdated(new Date(e)),this._lastModified=e}this._isFirstPooling&&(this._isFirstPooling=!1,this.updateFlagshipStatus(d.READY)),"function"==typeof this.config.onBucketingSuccess&&this.config.onBucketingSuccess({status:t.status,payload:this._bucketingContent}),this._isPooling=!1}},{key:"startPolling",value:function(){var t,e=this,n=1e3*(null!=(t=this.config.pollingInterval)?t:2);F(this.config,"Bucketing polling starts","startPolling"),this.polling(),0!==n&&(this._intervalID=setInterval((function(){e.polling()}),n))}},{key:"polling",value:(c=Z(X().mark((function t(){var e,n,i,r;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._isPooling){t.next=2;break}return t.abrupt("return");case 2:return this._isPooling=!0,this._isFirstPooling&&this.updateFlagshipStatus(d.POLLING),t.prev=4,n=G("https://cdn.flagship.io/{0}/bucketing.json",this.config.envId),K(e={},N,"".concat(this.config.apiKey)),K(e,S,g),K(e,L,v),K(e,R,T),i=e,this._lastModified&&(i["if-modified-since"]=this._lastModified),t.next=10,this._httpClient.getAsync(n,{headers:i});case 10:r=t.sent,this.finishLoop(r),t.next=20;break;case 14:t.prev=14,t.t0=t.catch(4),this._isPooling=!1,V(this.config,t.t0,"startPolling dd"),this._isFirstPooling&&this.updateFlagshipStatus(d.NOT_INITIALIZED),"function"==typeof this.config.onBucketingFail&&this.config.onBucketingFail(new Error(t.t0));case 20:case"end":return t.stop()}}),t,this,[[4,14]])}))),function(){return c.apply(this,arguments)})},{key:"stopPolling",value:function(){clearInterval(this._intervalID),this._isPooling=!1,F(this.config,"Bucketing polling stopped","stopPolling")}},{key:"sendContext",value:(i=Z(X().mark((function t(e){var n,i,r,o;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=G("https://decision.flagship.io/v2/{0}/events",this.config.envId),K(n={},N,"".concat(this.config.apiKey)),K(n,S,g),K(n,L,v),K(n,R,T),r=n,o={visitorId:e.visitorId,type:"CONTEXT",data:e.context},t.next=6,this._httpClient.postAsync(i,{headers:r,body:o});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),V(this.config,t.t0.message||t.t0,"sendContext");case 11:case"end":return t.stop()}}),t,this,[[0,8]])}))),function(t){return i.apply(this,arguments)})},{key:"getCampaignsAsync",value:(e=Z(X().mark((function t(e){var n,i=this;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.sendContext(e),this._bucketingContent){t.next=3;break}return t.abrupt("return",[]);case 3:if(!this._bucketingContent.panic){t.next=6;break}return this.panic=!0,t.abrupt("return",[]);case 6:if(this.panic=!1,this._bucketingContent.campaigns){t.next=9;break}return t.abrupt("return",[]);case 9:return n=[],this._bucketingContent.campaigns.forEach((function(t){var r=i.getVisitorCampaigns(t.variationGroups,t.id,e);r&&n.push(r)})),t.abrupt("return",n);case 12:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"getVisitorCampaigns",value:function(t,e,n){var i,r=Ht(t);try{for(r.s();!(i=r.n()).done;){var o=i.value;if(this.isMatchTargeting(o,n)){var s=this.getVariation(o,n.visitorId);return s?{id:e,variation:s,variationGroupId:o.id}:null}}}catch(t){r.e(t)}finally{r.f()}return null}},{key:"getVariation",value:function(t,e){var n,i=this._murmurHash.murmurHash3Int32(t.id+e)%100,r=0,o=Ht(t.variations);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(void 0!==s.allocation&&i<(r+=s.allocation))return{id:s.id,modifications:s.modifications,reference:!!s.reference}}}catch(t){o.e(t)}finally{o.f()}return null}},{key:"isMatchTargeting",value:function(t,e){var n=this;return!!(t&&t.targeting&&t.targeting.targetingGroups)&&t.targeting.targetingGroups.some((function(t){return n.checkAndTargeting(t.targetings,e)}))}},{key:"isANDListOperator",value:function(t){return["NOT_EQUALS","NOT_CONTAINS"].includes(t)}},{key:"checkAndTargeting",value:function(t,e){var n,i,r=!1,o=Ht(t);try{for(o.s();!(i=o.n()).done;){var s=i.value,c=s.key,a=s.value,u=s.operator;if("fs_all_users"!==c){if("fs_users"===c)n=e.visitorId;else{if(!(c in e.context)){r=!1;break}n=e.context[c]}if(!(r=this.testOperator(u,n,a)))break}else r=!0}}catch(t){o.e(t)}finally{o.f()}return r}},{key:"testListOperatorLoop",value:function(t,e,n,i){var r,o=i,s=Ht(n);try{for(s.s();!(r=s.n()).done;){var c=r.value;if((o=this.testOperator(t,e,c))!==i)break}}catch(t){s.e(t)}finally{s.f()}return o}},{key:"testListOperator",value:function(t,e,n){return this.isANDListOperator(t)?this.testListOperatorLoop(t,e,n,!0):this.testListOperatorLoop(t,e,n,!1)}},{key:"testOperator",value:function(t,e,n){var i;if(Array.isArray(n))return this.testListOperator(t,e,n);switch(t){case"EQUALS":i=e===n;break;case"NOT_EQUALS":i=e!==n;break;case"CONTAINS":i=e.toString().includes(n.toString());break;case"NOT_CONTAINS":i=!e.toString().includes(n.toString());break;case"GREATER_THAN":i=e>n;break;case"LOWER_THAN":i=e<n;break;case"GREATER_THAN_OR_EQUALS":i=e>=n;break;case"LOWER_THAN_OR_EQUALS":i=e<=n;break;case"STARTS_WITH":i=e.toString().startsWith(n.toString());break;case"ENDS_WITH":i=e.toString().endsWith(n.toString());break;default:i=!1}return i}}]),l}($),Yt=function(){function t(){}return n(t,[{key:"murmurHash3Int32",value:function(t){var e,n,i,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=3&t.length,c=t.length-s;e=o;var a=3432918353,u=461845907;for(r=0;r<c;)i=255&t.charCodeAt(r)|(255&t.charCodeAt(++r))<<8|(255&t.charCodeAt(++r))<<16|(255&t.charCodeAt(++r))<<24,++r,e=27492+(65535&(n=5*(65535&(e=(e^=i=(65535&(i=(i=(65535&i)*a+(((i>>>16)*a&65535)<<16)&4294967295)<<15|i>>>17))*u+(((i>>>16)*u&65535)<<16)&4294967295)<<13|e>>>19))+((5*(e>>>16)&65535)<<16)&4294967295))+((58964+(n>>>16)&65535)<<16);switch(i=0,s){case 3:i^=(255&t.charCodeAt(r+2))<<16;case 2:i^=(255&t.charCodeAt(r+1))<<8;case 1:e^=i=(65535&(i=(i=(65535&(i^=255&t.charCodeAt(r)))*a+(((i>>>16)*a&65535)<<16)&4294967295)<<15|i>>>17))*u+(((i>>>16)*u&65535)<<16)&4294967295}return e^=t.length,e=2246822507*(65535&(e^=e>>>16))+((2246822507*(e>>>16)&65535)<<16)&4294967295,e=3266489909*(65535&(e^=e>>>13))+((3266489909*(e>>>16)&65535)<<16)&4294967295,(e^=e>>>16)>>>0}}]),t}();function Wt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Qt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Wt(Object(n),!0).forEach((function(e){K(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}P(401);var zt=function(){function t(){}var e;return n(t,[{key:"getResponse",value:(e=Z(X().mark((function t(e){var n,i,r;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.headers.get("Content-Type"),i="application/json"===n,t.next=4,e.text();case 4:if((r=t.sent)&&i&&(r=JSON.parse(r)),e.ok){t.next=8;break}throw new Error(r||e.statusText);case 8:return t.abrupt("return",{status:e.status,body:r});case 9:case"end":return t.stop()}}),t)}))),function(t){return e.apply(this,arguments)})},{key:"getAsync",value:function(t,e){var n=new AbortController,i=setTimeout((function(){return n.abort()}),1e3*(null!=e&&e.timeout?e.timeout:2));return f(t,Qt(Qt({},u),{},{method:"GET",headers:null==e?void 0:e.headers,signal:n.signal,keepalive:!0})).then(this.getResponse).catch((function(t){throw t})).finally((function(){clearInterval(i)}))}},{key:"postAsync",value:function(t,e){var n=new AbortController,i=setTimeout((function(){return n.abort()}),e.timeout?1e3*e.timeout:2e3);return f(t,Qt(Qt({},u),{},{method:"POST",headers:e.headers,body:JSON.stringify(e.body),signal:n.signal,keepalive:!0})).then(this.getResponse).catch((function(t){throw t})).finally((function(){clearInterval(i)}))}}]),t}(),Zt=function(){function e(){}return n(e,[{key:"config",get:function(){return this._config}},{key:"configManager",get:function(){return this._configManger},set:function(t){this._configManger=t}},{key:"setStatus",value:function(t){var e=this.config.statusChangedCallback;if(this.config&&e&&this._status!==t)return this._status=t,void e(t);this._status=t}},{key:"getVisitor",value:function(){return this._visitorInstance}},{key:"buildConfig",value:function(t){return t instanceof H?t:(null==t?void 0:t.decisionMode)===B.BUCKETING?new pt(t):new W(t)}},{key:"buildDecisionManager",value:function(t,e,n){var i,r=function(e){t.setStatus(e)};if(e.decisionMode===B.BUCKETING){var o=i=new Ut(n,e,new Yt);i.statusChangedCallback(r),o.startPolling()}else(i=new et(n,e)).statusChangedCallback(r);return i}},{key:"newVisitor",value:function(t,n){return e.newVisitor(t,n)}}],[{key:"getInstance",value:function(){return this._instance||(this._instance=new this),this._instance}},{key:"isReady",value:function(){var t,e,n,i,r,o=null==(t=this._instance)||null==(e=t.config)?void 0:e.apiKey,s=null==(n=this._instance)||null==(i=n.config)?void 0:i.envId,c=null==(r=this._instance)?void 0:r.configManager;return!!(this._instance&&o&&s&&c)}},{key:"getStatus",value:function(){return this.getInstance()._status}},{key:"getConfig",value:function(){return this.getInstance()._config}},{key:"getVisitor",value:function(){return this.getInstance().getVisitor()}},{key:"start",value:function(e,n,i){var r,o=this.getInstance();if((i=o.buildConfig(i)).envId=e,i.apiKey=n,o._config=i,o.setStatus(d.STARTING),i.logManager||(i.logManager=new ut),!e||!n)return o.setStatus(d.NOT_INITIALIZED),V(i,"Params 'envId' and 'apiKey' must not be null or empty.",C),null;var s=null==(r=o.configManager)?void 0:r.decisionManager;"object"===t(s)&&s instanceof Ut&&s.stopPolling();var c=new zt;s=o.buildDecisionManager(o,i,c);var a=new at(c,i);return o.configManager?(o.configManager.config=i,o.configManager.decisionManager=s,o.configManager.trackingManager=a):o.configManager=new Q(i,s,a),this.isReady()?(o._status===d.STARTING&&o.setStatus(d.READY),F(i,G("Flagship SDK (version: {0}) READY",v),C),o):(o.setStatus(d.NOT_INITIALIZED),null)}},{key:"newVisitor",value:function(t,e){if(!this.isReady())return null;var n,i,r,o,s,c,a=!1,u=!0,f="undefined"==typeof window,l=f;"string"==typeof t||null===t?(n=t,i=e||{}):(n=(null==t?void 0:t.visitorId)||null,i=(null==t?void 0:t.context)||{},a=!(null==t||!t.isAuthenticated),u=null==(s=null==t?void 0:t.hasConsented)||s,r=null==t?void 0:t.initialModifications,o=null==t?void 0:t.initialCampaigns,l=null!=(c=null==t?void 0:t.isNewInstance)?c:l);var h=new Ft({visitorId:n,context:i,isAuthenticated:a,hasConsented:u,configManager:this.getInstance().configManager,initialModifications:r,initialCampaigns:o}),d=new q(h);return this.getInstance()._visitorInstance=f||l?void 0:d,this.getConfig().fetchNow&&d.synchronizeModifications(),d}}]),e}();const Jt=Zt})(),D})()}));
//# sourceMappingURL=index.browser.js.map